(this["webpackJsonpfoodometer-frontend"]=this["webpackJsonpfoodometer-frontend"]||[]).push([[0],{100:function(e,a,t){e.exports=t.p+"static/media/cyan-canvas.10cfec1e.jpg"},103:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(22),o=t.n(s),c=(t(72),t(13)),l=t(14),i=t(6),m=t(16),u=t(15),d=t(64),p=t(4),h=(t(46),t(21)),g=t.n(h),b=t(23),f=(t(89),t(7)),v=t(10),E=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={email:"",username:"",password:"",password_confirmation:"",registrationErrors:""},n.handleSubmit=n.handleSubmit.bind(Object(i.a)(n)),n.handleChange=n.handleChange.bind(Object(i.a)(n)),n}return Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var a=this,t=this.state,n=t.email,r=t.username,s=t.password;t.password_confirmation;g.a.post("https://k7re4kzp33.execute-api.eu-west-1.amazonaws.com/dev/foodometer/register",{emailid:n,username:r,password:s}).then((function(e){a.props.handleSuccessfulRegister(e.data)})).catch((function(e){console.log("login error",e)})),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"mylist shadow"},r.a.createElement("form",{className:"py-4",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("div",{className:"form-group mx-1"},r.a.createElement("span",{class:"input-group-addon"},r.a.createElement(f.a,{icon:v.b})),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:this.state.email,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{class:"input-group-addon"},r.a.createElement(f.a,{icon:v.e})),r.a.createElement("input",{type:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("div",{className:"form-group "},r.a.createElement("span",{class:"input-group-addon"},r.a.createElement(f.a,{icon:v.c})),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{class:"input-group-addon"},r.a.createElement(f.a,{icon:v.a})),r.a.createElement("input",{type:"password",name:"password_confirmation",placeholder:"Confirm Password",value:this.state.password_confirmation,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-info my-2 mb-4"},"Register"))))}}]),t}(n.Component),y=(t(94),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={username:"",password:"",loginErrors:""},n.handleSubmit=n.handleSubmit.bind(Object(i.a)(n)),n.handleChange=n.handleChange.bind(Object(i.a)(n)),n}return Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var a=this,t=this.state,n=t.username,r=t.password;g.a.post("https://k7re4kzp33.execute-api.eu-west-1.amazonaws.com/dev/foodometer",{username:n,password:r}).then((function(e){a.props.handleSuccessfulAuth(e.data)})).catch((function(e){console.log("login error",e)})),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"login"},r.a.createElement("form",{className:"shadow",onSubmit:this.handleSubmit},r.a.createElement("h4",{className:"pt-2 py-2"},"Login"),r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("div",{className:"form-group mx-1"},r.a.createElement("span",{class:"input-group-addon"},r.a.createElement(f.a,{icon:v.e})),r.a.createElement("input",{type:"username",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("div",{className:"form-group mx-1"},r.a.createElement("span",{class:"input-group-addon"},r.a.createElement(f.a,{icon:v.c})),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("div",{className:"mx-1"},r.a.createElement("button",{type:"submit",className:"btn btn-info my-2 mb-4"},"Login")))))}}]),t}(n.Component)),k=(t(95),function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleSuccessfulAuth=n.handleSuccessfulAuth.bind(Object(i.a)(n)),n.handleSuccessfulRegister=n.handleSuccessfulRegister.bind(Object(i.a)(n)),n.handleLogoutClick=n.handleLogoutClick.bind(Object(i.a)(n)),n}return Object(l.a)(t,[{key:"handleSuccessfulAuth",value:function(e){"Login Failed"===e?(console.log(e),alert("Incorrect Username or Password")):(this.props.handleLogin(e),this.props.history.push("/dashboard"))}},{key:"handleSuccessfulRegister",value:function(e){"User exists"===e?(console.log(e),alert("Emailid or username already exists!")):(this.props.handleLogin(e),this.props.history.push("/dashboard")),console.log(e)}},{key:"handleLogoutClick",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{id:"Login"},r.a.createElement("div",null,r.a.createElement("h2",{className:"py-4"},"FOOD-O-METER")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6 py-4"}),r.a.createElement("div",{className:"col-12 col-md-6 py-4"},r.a.createElement(y,{handleSuccessfulAuth:this.handleSuccessfulAuth}),r.a.createElement("div",{id:"register"},r.a.createElement("h6",{className:"home_Reg",id:"reg-link"},"Don't have an account?\xa0",r.a.createElement("a",{class:"u","data-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},"Register"))),r.a.createElement("div",{class:"collapse",id:"collapseExample"},r.a.createElement(E,{handleSuccessfulAuth:this.handleSuccessfulAuth,handleSuccessfulRegister:this.handleSuccessfulRegister})))))}}]),t}(n.Component)),w=t(65),j=t(18),N=t(40),O=t.n(N),S=t(58),x=(t(56),t(59)),C=t.n(x),_=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target.value;n.props.onSelectChange(a)},n}return Object(l.a)(t,[{key:"render",value:function(){console.log(this.props.array);var e=this.props.array,a=e.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}));return r.a.createElement("div",null," ",e.length," matches found for the image",r.a.createElement("select",{name:"customSearch",className:"custom-search-select m-4",onChange:this.handleChange},r.a.createElement("option",null,"Select Item"),a,r.a.createElement("option",null,"None of the above")))}}]),t}(n.Component),I=function(e){var a,t=Object(n.useState)(""),s=Object(j.a)(t,2),o=s[0],c=s[1],l=Object(n.useState)("2020-05-23"),i=Object(j.a)(l,2),m=i[0],u=i[1],d=Object(n.useState)(""),p=Object(j.a)(d,2),h=p[0],g=p[1],b=Object(n.useState)("Category"),f=Object(j.a)(b,2),v=f[0],E=f[1],y=e.arr;console.log("props received"+e.arr);var k;k=["acorn squash","alfalfa sprouts","almond","anchovy","anise","appetite","appetizer","apple","apricot","artichoke","asparagus","aspic","ate","avocado","bacon","bagel","bake","baked Alaska","bamboo shoots","banana","barbecue","barley","basil","batter","beancurd","beans","beef","beet","bell pepper","berry","biscuit","bitter","black beans","black tea","black-eyed peas","blackberry","bland","blood orange","blueberry","boil","bowl","boysenberry","bran","bread","breadfruit","breakfast","brisket","broccoli","broil","brown rice","brownie","brunch","Brussels sprouts","buckwheat","buns","burrito","butter","butter bean","cake","calorie","candy","candy apple","cantaloupe","capers","caramel","caramel apple","carbohydrate","carrot","cashew","cassava","casserole","cater","cauliflower","caviar","cayenne pepper","celery","cereal","chard","cheddar","cheese","cheesecake","chef","cherry","chew","chick peas","chicken","chili","chips","chives","chocolate","chopsticks","chow","chutney","cilantro","cinnamon","citron","citrus","clam","cloves","cobbler","coconut","cod","coffee","coleslaw","collard greens","comestibles","cook","cookbook","cookie","corn","cornflakes","cornmeal","cottage cheese","crab","crackers","cranberry","cream","cream cheese","crepe","crisp","crunch","crust","cucumber","cupcake","curds","currants","curry","custard","daikon","daily bread","dairy","dandelion greens","Danish pastry","dates","dessert","diet","digest","digestive system","dill","dine","diner","dinner","dip","dish","dough","doughnut","dragonfruit","dressing","dried","drink","dry","durian","eat","Edam cheese","edible","egg","eggplant","elderberry","endive","entree","fast","fat","fava beans","feast","fed","feed","fennel","fig","fillet","fire","fish","flan","flax","flour","food pyramid","foodstuffs","freezer","French fries","fried","fritter","frosting","fruit","fry","fusilli","garlic","gastronomy","gelatin","ginger","ginger ale","gingerbread","glasses","Gouda cheese","grain","granola","grape","grapefruit","grated","gravy","green bean","green tea","greens","grub","guacamole","guava","gyro","halibut","ham","hamburger","hash","hazelnut","herbs","honey","honeydew","horseradish","hot","hot dog","hot sauce","hummus","hunger","hungry","ice","ice cream","ice cream cone","iceberg lettuce","iced tea","icing","jackfruit","jalape\xf1o","jam","jelly","jellybeans","jicama","jimmies","Jordan almonds","jug","juice","julienne","junk food","kale","kebab","ketchup","kettle","kettle corn","kidney beans","kitchen","kiwi","knife","kohlrabi","kumquat","ladle","lamb","lard","lasagna","legumes","lemon","lemonade","lentils","lettuce","licorice","lima beans","lime","liver","loaf","lobster","lollipop","loquat","lox","lunch","lunch box","lunchmeat","lychee","macaroni","macaroon","main course","maize","mandarin orange","mango","maple syrup","margarine","marionberry","marmalade","marshmallow","mashed potatoes","mayonnaise","meat","meatball","meatloaf","melon","menu","meringue","micronutrient","milk","milkshake","millet","mincemeat","minerals","mint","mints","mochi","molasses","mole sauce","mozzarella","muffin","mug","munch","mushroom","mussels","mustard","mustard greens","mutton","napkin","nectar","nectarine","nibble","noodles","nosh","nourish","nourishment","nut","nutmeg","nutrient","nutrition","nutritious","oatmeal","oats","oil","okra","oleo","olive","omelet","omnivore","onion","orange","order","oregano","oven","oyster","pan","pancake","papaya","parsley","parsnip","pasta","pastry","pate","patty","pattypan squash","pea","pea pod","peach","peanut","peanut butter","pear","pecan","pepper","pepperoni","persimmon","pickle","picnic","pie","pilaf","pineapple","pita bread","pitcher","pizza","plate","platter","plum","poached","pomegranate","pomelo","pop","popcorn","popovers","popsicle","pork","pork chops","pot","pot roast","potato","preserves","pretzel","prime rib","protein","provisions","prune","pudding","pumpernickel","pumpkin","punch","quiche","quinoa","radish","raisin","raspberry","rations","ravioli","recipe","refreshments","refrigerator","relish","restaurant","rhubarb","ribs","rice","roast","roll","rolling pin","romaine","rosemary","rye","saffron","sage","salad","salami","salmon","salsa","salt","sandwich","sauce","sauerkraut","sausage","savory","scallops","scrambled","seaweed","seeds","sesame seed","shallots","sherbet","shish kebab","shrimp","slaw","slice","smoked","snack","soda","soda bread","sole","sorbet","sorghum","sorrel","soup","sour","sour cream","soy","soy sauce","soybeans","spaghetti","spareribs","spatula","spices","spicy","spinach","split peas","spoon","spork","sprinkles","sprouts","spuds","squash","squid","steak","stew","stir-fry","stomach","stove","straw","strawberry","string bean","stringy","strudel","sub sandwich","submarine sandwich","succotash","suet","sugar","summer squash","sundae","sunflower","supper","sushi","sustenance","sweet","sweet potato","Swiss chard","syrup","taco","take-out","tamale","tangerine","tapioca","taro","tarragon","tart","tea","teapot","teriyaki","thyme","toast","toaster","toffee","tofu","tomatillo","tomato","torte","tortilla","tuber","tuna","turkey","turmeric","turnip","ugli fruit","unleavened","utensils","vanilla","veal","vegetable","venison","vinegar","vitamin","wafer","waffle","walnut","wasabi","water","water chestnut","watercress","watermelon","wheat","whey","whipped cream","wok","yam","yeast","yogurt","yolk","zucchini"].filter((function(e){return y.some((function(a){return new RegExp(e,"i").test(a)}))}));return r.a.createElement("div",{className:"dataextraction"},console.log("props is"+e.arr),r.a.createElement("form",null,"true"===e.file?r.a.createElement(_,{array:k,onSelectChange:function(e){"None of the above"!==(a=e)?(document.getElementById("product").value=a,c(a)):(document.getElementById("product").value="",document.getElementById("product").placeholder="Enter Item Name")}}):null,r.a.createElement("div",{className:"row addprod"},r.a.createElement("div",{className:"col col-md-4 my-auto"},"Product"),r.a.createElement("div",{className:"col col-md-3"},"Expiry Date"),r.a.createElement("div",{className:"col col-md-2"},"Remind me"),r.a.createElement("div",{class:"col-md-3 input-group"},"Category")),r.a.createElement("div",{className:"row addprod"},r.a.createElement("div",{className:"col col-md-4 my-auto"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Product_Name",onChange:function(e){c(e.target.value)},value:a,id:"product"})),r.a.createElement("div",{className:"col col-md-3"},r.a.createElement("input",{type:"date",className:"form-control",placeholder:"Last name",onChange:function(e){u(e.target.value)},value:m,id:"date"})),r.a.createElement("div",{className:"col col-md-2"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Reminder",onChange:function(e){g(e.target.value)},value:h,id:"reminder"})),r.a.createElement("div",{class:"col-md-3 input-group"},r.a.createElement("select",{class:"custom-select",id:"category",onChange:function(e){E(e.target.value)}},r.a.createElement("option",{selected:!0},"Category"),r.a.createElement("option",{value:"Breakfast"},"Breakfast"),r.a.createElement("option",{value:"Fruits"},"Fruits"),r.a.createElement("option",{value:"Vegetables_Meat"},"Vegetables and Meat"),r.a.createElement("option",{value:"Cooked_Food"},"Cooked Food"),r.a.createElement("option",{value:"Food_Cupboard"},"Food Cupboard")))),r.a.createElement("div",{className:"row justify-content-center my-3"},r.a.createElement("button",{class:"btn btn-info",type:"button",id:"additembtn","data-dismiss":"modal",onClick:function(){document.getElementById("product").value="",document.getElementById("date").value="",document.getElementById("reminder").value="",document.getElementById("category").value="",e.handleAdd(o,m,h,v)}},"Add Item"))))},L=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).submitToGoogle=Object(S.a)(O.a.mark((function e(){var a,t,r,s,o,c,l,i,m,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.state.files[0].base64,t=a.split(","),r=t[1],s=JSON.stringify({requests:[{features:[{type:"LABEL_DETECTION",maxResults:10},{type:"LOGO_DETECTION",maxResults:5},{type:"TEXT_DETECTION",maxResults:10},{type:"DOCUMENT_TEXT_DETECTION",maxResults:10}],image:{content:r}}]}),e.next=7,fetch("https://vision.googleapis.com/v1/images:annotate?key=AIzaSyDcx3crXgdsgwdr0OGEBHkX-ZNw-Ggvuk8",{headers:{Accept:"application/json","Content-Type":"application/json","Content-Length":"size"},method:"POST",body:s});case 7:return o=e.sent,e.next=10,o.json();case 10:c=e.sent,console.log(c),l=[],c.responses[0].labelAnnotations&&(i=c.responses[0].labelAnnotations[0].description,m=c.responses[0].labelAnnotations[1].description),c.responses[0].textAnnotations&&(u=c.responses[0].textAnnotations[0].description.split("\n")),l.push(m),l.push(i),l.push(u),n.setState({key:l,fileuploaded:"true"}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])}))),n.state={files:[],key:[],fileuploaded:"",open:!0,maessage:""},n.submitToGoogle=n.submitToGoogle.bind(Object(i.a)(n)),n}return Object(l.a)(t,[{key:"handleClose",value:function(){this.open=!1}},{key:"getFiles",value:function(e){this.setState({files:e}),this.submitToGoogle()}},{key:"setFiles",value:function(){this.setState({files:null})}},{key:"render",value:function(){return r.a.createElement("div",{className:"text-center my-4 pl-4"},r.a.createElement("div",{className:"justify-contents-center"},"Upload Image",r.a.createElement(C.a,{multiple:!0,onDone:this.getFiles.bind(this)})),r.a.createElement("div",{className:"text-center"},this.state.files.map((function(e,a){return r.a.createElement("img",{key:a,src:e.base64,width:"150px",height:"150px",className:"my-2",style:{border:"1px solid #3a3a3a"},id:"img"})})),r.a.createElement("img",{src:""})),r.a.createElement("div",{className:"text-center"},console.log("key is"+this.state.key),r.a.createElement(I,{arr:this.state.key,file:this.state.fileuploaded,handleAdd:this.props.handleAdd})))}}]),t}(r.a.Component),D=(t(97),t(98),function(e){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-light",id:"nav1"},r.a.createElement("div",{className:"row",id:"rowhead"},r.a.createElement("div",{className:"col-md-10"},r.a.createElement("h2",{id:"mainTitle",className:"py-3"},"FOOD-O-METER")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{class:"navbar-collapse",id:"navbarNavDropdown"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{"nav-item":!0,dropdown:!0},r.a.createElement("a",{class:"nav-link dropdown-toggle",href:"/",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement(f.a,{icon:v.f,className:"mx-2"}),"Welcome ",e.user),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",id:"drop"},r.a.createElement("a",{class:"dropdown-item",id:"logout",href:"/"},"Logout")))))))))}),z=t(32),T=t(60),A=t.n(T),R=t(125),q=t(123),G=t(126),B=function(e){var a=Object(n.useState)([]),s=Object(j.a)(a,2),o=s[0],c=s[1],l=Object(n.useState)(),i=Object(j.a)(l,2),m=(i[0],i[1]),u=Object(n.useState)(!1),d=Object(j.a)(u,2),p=d[0],h=d[1],E=Object(n.useState)(""),y=Object(j.a)(E,2),k=y[0],N=y[1];Object(n.useEffect)((function(){g.a.post("https://k7re4kzp33.execute-api.eu-west-1.amazonaws.com/dev/foodometer/dashboard",{user_id:e.user.user_id}).then((function(e){console.log(e.data),c(e.data.sort(O("item_name",!1)))})).catch((function(e){console.log("failed",e)}))}),[e.user.user_id]);var O=function(e,a){return function(t,n){return t[e]<n[e]?a?1:-1:t[e]>n[e]?a?-1:1:0}},S=Object(q.a)((function(e){return{snackbar:Object(b.a)({color:"black"},e.breakpoints.down("xs"),{bottom:90}),content:{display:"flex",justifyContent:"center",backgroundColor:"black"}}}))();return r.a.createElement("div",{id:"dashboard"},r.a.createElement("div",null,r.a.createElement(D,{user:e.user.username}),r.a.createElement("h3",null,"Your Dashboard"),r.a.createElement("div",{className:"row subheader"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h6",null,"Showing ",o.length," items in your dashboard")),r.a.createElement("div",{className:"col-md-3 sort"},r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("label",{class:"input-group-text",for:"inputGroupSelect01"},"Sort by")),r.a.createElement("select",{class:"custom-select",id:"inputGroupSelect01",onChange:function(e){!function(e,a){var t=e.target.value;if("1"===t){m(!1);var n=a.sort(O("expiry_date",!0));c(n)}else if("2"===t){m(!0);var r=a.sort(O("expiry_date",!1));c(r)}e.preventDefault()}(e,o)}},r.a.createElement("option",{selected:!0},"Item Name"),r.a.createElement("option",{value:"1"},"Expiry Date (Descending)"),r.a.createElement("option",{value:"2"},"Expiry Date (Ascending)"))))),r.a.createElement("div",{class:"card-deck m-4"},o.map((function(e,a){return r.a.createElement("div",{className:"col-md-3 py-4"},r.a.createElement("div",{class:"card shadow"},function(){switch(e.category){case"Food_Cupboard":return r.a.createElement("img",{src:"https://media.mnn.com/assets/images/2019/04/pantry_items.jpg.653x0_q80_crop-smart.jpg",class:"card-img-top",alt:"store cupboard"});case"Cooked_Food":return r.a.createElement("img",{src:"https://www.brewinghappiness.com/wp-content/uploads/2019/03/featured-image-1.jpg",class:"card-img-top",alt:"store cupboard"});case"Breakfast":return r.a.createElement("img",{src:"https://i0.wp.com/cdn-prod.medicalnewstoday.com/content/images/articles/325/325150/oatmeal-or-porridge-cereal-in-a-bowl-with-milk-almonds-and-berries.jpg?w=1155&h=1541",class:"card-img-top",alt:"store cupboard"});case"Vegetables_Meat":return r.a.createElement("img",{src:"http://4designer.t7yb.net/files/20130105/High-quality-pictures-of-the-vegetables-Still-Life-03-HD-Images-44598.jpg",class:"card-img-top",alt:"store cupboard"});case"Fruits":return r.a.createElement("img",{src:"https://www.waters.com/nextgen/in/en/library/application-notes/2018/chlorate-perchlorate-food-commodities-torus-dea-column-uplc-ms-ms/_jcr_content/root/layoutcontainer_1842990709/image.coreimg.82.620.jpeg/1573244004514/stock-fruits-vegetables-3.jpeg",class:"card-img-top",alt:"store cupboard"});default:return r.a.createElement("img",{src:"https://www.brewinghappiness.com/wp-content/uploads/2019/03/featured-image-1.jpg",class:"card-img-top",alt:"store cupboard"})}}(),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("p",{class:"card-text p-1",id:"title"},e.item_name,r.a.createElement("button",{type:"button",className:"float-right",onClick:function(a){!function(e,a){g.a.delete("https://k7re4kzp33.execute-api.eu-west-1.amazonaws.com/dev/foodometer/delete/".concat(a)).then((function(e){console.log(e);var t=o.filter((function(e){return e.item_id!==a}));c(t),N("Item deleted from dashboard"),h(!0)})).catch((function(e){console.log("Error deleting the product",e)})),e.preventDefault()}(a,e.item_id)}},r.a.createElement(f.a,{icon:z.c,color:"#615f5f"}))),r.a.createElement("p",{class:"card-footer bg-transparent m-0 p-0"},r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement("div",{className:"col-6 pt-2"},r.a.createElement(f.a,{icon:z.a,className:"mb-0 mt-2 ml-2 mr-2"}),A()(e.expiry_date).format("Do MMM")),r.a.createElement("div",{className:"col-6 pt-2"},r.a.createElement(f.a,{icon:z.b,className:"mb-0 mt-2 ml-2 mr-2"}),e.reminder," Days")),r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement("div",{className:"col-6 pb-3 pt-1 pr-0 calendar"},"\xa0\xa0Expires"),r.a.createElement("div",{className:"col-6 pb-3 pt-1 pr-0 clock"},"\xa0\xa0Reminder"))))))})),r.a.createElement("div",{className:"col-md-3 py-4"},r.a.createElement("div",{class:"card shadow"},r.a.createElement("img",{src:t(100),class:"card-img-top",alt:"store cupboard"}),r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("p",{class:"card-text p-1",id:"title"},"Add Item")),r.a.createElement("div",null,r.a.createElement("button",{type:"button","data-toggle":"modal","data-target":"#visionapi",id:"addButton"},r.a.createElement(f.a,{icon:v.d,size:"3x",color:"#17a2b8"}))),r.a.createElement("p",{class:"bg-transparent p-2"})))),r.a.createElement("div",{class:"modal fade",id:"visionapi",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("button",{className:"close topright m-2","data-dismiss":"modal"},r.a.createElement(f.a,{icon:z.c,size:"1x"})),r.a.createElement(L,{handleAdd:function(a,t,n,r){console.log("user id is:"+e.user.user_id),g.a.post("https://k7re4kzp33.execute-api.eu-west-1.amazonaws.com/dev/foodometer/add",{item:a,date:t,reminder:n,user:e.user.user_id,category:r}).then((function(e){var a=e.data,t=[].concat(Object(w.a)(o),[a]);N("Item added to dashboard"),h(!0),c(t)})).catch((function(e){console.log("Error adding the item",e)}))}}))))),r.a.createElement(R.a,{className:S.snackbar,open:p,autoHideDuration:1500,onClose:function(){return h(!1)}},r.a.createElement(G.a,{className:S.content,message:k}))))},F={width:"100%",height:"800px",backgroundImage:"url(".concat("./brooke-lark-08bOYnH_r_E-unsplash.jpg",")"),backgroundSize:"cover"},M=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).state={loggedInStatus:"NOT_LOGGED_IN",user:{}},e.handleLogin=e.handleLogin.bind(Object(i.a)(e)),e.handleLogout=e.handleLogout.bind(Object(i.a)(e)),e}return Object(l.a)(t,[{key:"checkLoginStatus",value:function(){this.setState({loggedInStatus:"NOT_LOGGED_IN"})}},{key:"componentDidMount",value:function(){this.checkLoginStatus()}},{key:"handleLogout",value:function(){this.setState({loggedInStatus:"NOT_LOGGED_IN",user:{}})}},{key:"handleLogin",value:function(e){this.setState({loggedInStatus:"LOGGED_IN",user:e}),console.log(this.state.user)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app",style:F},r.a.createElement("div",{id:"main",className:""},r.a.createElement(d.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(a){return r.a.createElement(k,Object.assign({},a,{handleLogin:e.handleLogin,handleLogout:e.handleLogout,loggedInStatus:e.state.loggedInStatus}))}}),r.a.createElement(p.a,{path:"/dashboard",render:function(a){return r.a.createElement(B,Object.assign({},a,{loggedInStatus:e.state.loggedInStatus,user:e.state.user}))}}),r.a.createElement(p.a,{component:k})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,a,t){},56:function(e,a,t){},67:function(e,a,t){e.exports=t(103)},72:function(e,a,t){},89:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.38edcc5b.chunk.js.map